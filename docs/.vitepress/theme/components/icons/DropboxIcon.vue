<script lang="ts">
import type { PropType, VNode } from 'vue';
import { computed, defineComponent, h } from 'vue';
import type { ComposeIconProps } from './types';
import { IconSize } from './types';
// import { getIconSizeClass } from '../src/runtime/utils';
import type { IconSizeKeyValue } from './types';
import { getIconSizeClass } from './utils';

const svgAttributes = {
  width: '24',
  height: '24',
  viewBox: '0 0 24 24',
  fill: 'none',
  xmlns: 'http://www.w3.org/2000/svg',
};
const vnodeChildren = [
  {
    type: 'path',
    props: {
      d: 'M23.5701 13.32C23.6963 13.227 23.7988 13.1058 23.8694 12.9659C23.9401 12.8261 23.9769 12.6716 23.9769 12.515C23.9769 12.3583 23.9401 12.2038 23.8694 12.064C23.7988 11.9242 23.6963 11.8029 23.5701 11.71L20.5701 9.38997C20.5082 9.34553 20.4577 9.28698 20.4229 9.21916C20.3881 9.15134 20.37 9.0762 20.37 8.99997C20.37 8.92374 20.3881 8.84861 20.4229 8.78079C20.4577 8.71297 20.5082 8.65441 20.5701 8.60997L23.5701 6.28997C23.7054 6.19617 23.8154 6.07042 23.8905 5.92388C23.9655 5.77735 24.0031 5.61456 24.0001 5.44997C23.9912 5.28765 23.9428 5.12996 23.8592 4.99056C23.7755 4.85117 23.6592 4.73426 23.5201 4.64997L17.0001 0.649972C16.8278 0.544678 16.6275 0.494054 16.4258 0.504764C16.2241 0.515474 16.0304 0.587016 15.8701 0.709972L12.3101 3.48997C12.2235 3.56328 12.1136 3.6035 12.0001 3.6035C11.8866 3.6035 11.7768 3.56328 11.6901 3.48997L8.11014 0.709972C7.95182 0.59127 7.76184 0.522208 7.56425 0.511527C7.36666 0.500846 7.17034 0.549028 7.00014 0.649972L0.500143 4.64997C0.361135 4.73426 0.244771 4.85117 0.161132 4.99056C0.0774922 5.12996 0.0290987 5.28765 0.0201432 5.44997C0.0126029 5.61106 0.0441315 5.77158 0.11204 5.91784C0.179949 6.06411 0.282224 6.19178 0.410143 6.28997L3.41014 8.60997C3.47208 8.65441 3.52254 8.71297 3.55735 8.78079C3.59216 8.84861 3.61032 8.92374 3.61032 8.99997C3.61032 9.0762 3.59216 9.15134 3.55735 9.21916C3.52254 9.28698 3.47208 9.34553 3.41014 9.38997L0.410143 11.71C0.284031 11.8029 0.18152 11.9242 0.110872 12.064C0.0402251 12.2038 0.00341797 12.3583 0.00341797 12.515C0.00341797 12.6716 0.0402251 12.8261 0.110872 12.9659C0.18152 13.1058 0.284031 13.227 0.410143 13.32L3.41014 15.42C3.41929 15.4459 3.41929 15.4741 3.41014 15.5V18.5C3.41063 18.6809 3.46017 18.8583 3.55351 19.0132C3.64684 19.1682 3.78046 19.2949 3.94014 19.38L11.4401 23.38C11.5848 23.457 11.7462 23.4973 11.9101 23.4973C12.0741 23.4973 12.2355 23.457 12.3801 23.38L19.8801 19.38C20.0398 19.2949 20.1734 19.1682 20.2668 19.0132C20.3601 18.8583 20.4097 18.6809 20.4101 18.5V15.5C20.401 15.4741 20.401 15.4459 20.4101 15.42L23.5701 13.32ZM16.2901 2.92997C16.3738 2.87191 16.4733 2.84079 16.5751 2.84079C16.677 2.84079 16.7764 2.87191 16.8601 2.92997L20.6301 5.24997C20.6991 5.29188 20.757 5.34987 20.7987 5.419C20.8404 5.48812 20.8647 5.56631 20.8697 5.64689C20.8746 5.72747 20.8599 5.80805 20.8269 5.88172C20.7939 5.9554 20.7435 6.01999 20.6801 6.06997L18.6801 7.59997C18.5964 7.65804 18.497 7.68915 18.3951 7.68915C18.2933 7.68915 18.1938 7.65804 18.1101 7.59997L14.3701 5.27997C14.3041 5.23389 14.2502 5.17256 14.213 5.10117C14.1758 5.02979 14.1563 4.95048 14.1563 4.86997C14.1563 4.78947 14.1758 4.71015 14.213 4.63877C14.2502 4.56739 14.3041 4.50605 14.3701 4.45997L16.2901 2.92997ZM15.9001 8.56997C15.9726 8.61623 16.0324 8.67972 16.0743 8.75476C16.1162 8.8298 16.1388 8.91405 16.1401 8.99997C16.1397 9.08608 16.1174 9.17067 16.0755 9.24586C16.0335 9.32105 15.9732 9.38439 15.9001 9.42997L12.2601 11.66C12.1822 11.7088 12.0921 11.7346 12.0001 11.7346C11.9082 11.7346 11.8181 11.7088 11.7401 11.66L8.10014 9.42997C8.02709 9.38439 7.96677 9.32105 7.92481 9.24586C7.88284 9.17067 7.86059 9.08608 7.86014 8.99997C7.8615 8.91405 7.88413 8.8298 7.92602 8.75476C7.9679 8.67972 8.02772 8.61623 8.10014 8.56997L11.7401 6.33997C11.8181 6.29118 11.9082 6.2653 12.0001 6.2653C12.0921 6.2653 12.1822 6.29118 12.2601 6.33997L15.9001 8.56997ZM3.32014 5.99997C3.25675 5.94999 3.20639 5.8854 3.17339 5.81172C3.14039 5.73805 3.12572 5.65747 3.13063 5.57689C3.13554 5.49631 3.1599 5.41812 3.20161 5.349C3.24332 5.27987 3.30114 5.22188 3.37014 5.17997L7.14014 2.89997C7.22384 2.84191 7.32328 2.81079 7.42514 2.81079C7.52701 2.81079 7.62645 2.84191 7.71014 2.89997L9.71014 4.42997C9.77616 4.47605 9.83007 4.53739 9.8673 4.60877C9.90452 4.68015 9.92396 4.75947 9.92396 4.83997C9.92396 4.92048 9.90452 4.99979 9.8673 5.07117C9.83007 5.14256 9.77616 5.20389 9.71014 5.24997L5.86014 7.59997C5.77645 7.65804 5.67701 7.68915 5.57514 7.68915C5.47328 7.68915 5.37384 7.65804 5.29014 7.59997L3.32014 5.99997ZM3.25014 12.8C3.18598 12.7539 3.13293 12.6941 3.09487 12.6249C3.05681 12.5557 3.03469 12.4788 3.03014 12.4C3.02851 12.3221 3.04587 12.2449 3.08071 12.1753C3.11556 12.1056 3.16684 12.0454 3.23014 12L5.29014 10.39C5.37384 10.3319 5.47328 10.3008 5.57514 10.3008C5.67701 10.3008 5.77645 10.3319 5.86014 10.39L9.76014 12.78C9.8254 12.8234 9.87999 12.8811 9.91982 12.9486C9.95965 13.0162 9.98369 13.0918 9.99014 13.17C9.99986 13.2462 9.99031 13.3237 9.96236 13.3953C9.93441 13.467 9.88895 13.5304 9.83014 13.58L7.72014 15.47C7.63116 15.5381 7.52221 15.575 7.41014 15.575C7.29808 15.575 7.18913 15.5381 7.10014 15.47L3.25014 12.8ZM18.5001 17.65C18.4993 17.7268 18.4774 17.8019 18.4369 17.8671C18.3963 17.9324 18.3386 17.9852 18.2701 18.02L12.2701 21.24C12.1963 21.2794 12.1139 21.3 12.0301 21.3C11.9464 21.3 11.864 21.2794 11.7901 21.24L5.73014 18C5.66072 17.965 5.60239 17.9114 5.56163 17.8452C5.52087 17.7789 5.49929 17.7027 5.49929 17.625C5.49929 17.5472 5.52087 17.471 5.56163 17.4048C5.60239 17.3386 5.66072 17.285 5.73014 17.25C5.7959 17.2082 5.87222 17.1859 5.95014 17.1859C6.02807 17.1859 6.10438 17.2082 6.17014 17.25L6.93014 17.78C7.09254 17.911 7.29184 17.9879 7.50014 18C7.74322 17.9996 7.97784 17.9107 8.16014 17.75L11.6701 14.63C11.7604 14.5478 11.8781 14.5022 12.0001 14.5022C12.1222 14.5022 12.2399 14.5478 12.3301 14.63L15.8401 17.75C16.0224 17.9107 16.2571 17.9996 16.5001 18C16.7041 17.9995 16.9029 17.9367 17.0701 17.82L17.8301 17.29C17.8959 17.2482 17.9722 17.2259 18.0501 17.2259C18.1281 17.2259 18.2044 17.2482 18.2701 17.29C18.3365 17.3247 18.3927 17.3762 18.433 17.4394C18.4734 17.5025 18.4965 17.5751 18.5001 17.65ZM16.9001 15.51C16.8112 15.5781 16.7022 15.615 16.5901 15.615C16.4781 15.615 16.3691 15.5781 16.2801 15.51L14.1701 13.63C14.1113 13.5804 14.0659 13.517 14.0379 13.4453C14.01 13.3737 14.0004 13.2962 14.0101 13.22C14.0166 13.1418 14.0406 13.0662 14.0805 12.9986C14.1203 12.9311 14.1749 12.8734 14.2401 12.83L18.1401 10.44C18.2238 10.3819 18.3233 10.3508 18.4251 10.3508C18.527 10.3508 18.6264 10.3819 18.7101 10.44L20.7701 12C20.8334 12.0454 20.8847 12.1056 20.9196 12.1753C20.9544 12.2449 20.9718 12.3221 20.9701 12.4C20.9656 12.4788 20.9435 12.5557 20.9054 12.6249C20.8674 12.6941 20.8143 12.7539 20.7501 12.8L16.9001 15.51Z',
      fill: 'var(--icon-fill, #7D7898)',
    },
    children: [],
  },
];
console.log('ðŸ“Ÿ - file: create-svg-component.ts:22 - vnodeChildren â†’ ', vnodeChildren);

export default defineComponent({
  name: 'DropboxIcon',
  props: {
    color: {
      type: String,
    },
    size: {
      type: String as PropType<IconSizeKeyValue>,
      default: 'md',
    },
  },
  setup(props: ComposeIconProps) {
    const iconSize = computed(() => {
      return getIconSizeClass(props.size || IconSize.M);
    });

    const styles = computed(() => ({
      '--icon-stroke': props.color,
      '--icon-fill': props.color,
    }));

    const iconClasses = computed(() => {
      return ['compose-icon', getIconSizeClass(iconSize.value)];
    });

    function recreateVNodes(vnodeData: any[]): (VNode | string)[] {
      return vnodeData.map((node) => {
        if (typeof node === 'string') {
          return node;
        }
        return h(
          node.type,
          node.props,
          node.children ? recreateVNodes(node.children) : node.children,
        );
      });
    }

    const children = recreateVNodes(vnodeChildren);

    const iconAttributes = computed(() => ({
      ...svgAttributes,
      style: styles.value,
      class: iconClasses.value,
    }));
    return () => h('svg', iconAttributes.value, children);

    // return {
    //   iconAttributes,
    //   children,
    // };
  },
});
</script>
